@model School.Models.Entities.Students;
@{
  var selectedSubjects = ViewBag.SelectedSubjects as List<int>;
}
@section scripts {
  @{
    <partial "_ValidationScriptsPartial"></partial>
  }
}

@if (Model is null)
{
  <p>No Student Found</p>
}
else
{
  <div class="container mt-5">
    <h2>Add Student</h2>

    <form method="post">
      <div class="form-group">
        <label for="StudentId">Id</label>
        <input type="number" class="form-control" id="StudentId" name="StudentId" required asp-for="StudentId" readonly>
      </div>
      <div class="form-group mt-2">
        <label for="FirstName">First Name</label>
        <input type="text" class="form-control" id="FirstName" name="FirstName" asp-for="FirstName">
        <span asp-validation-for="FirstName" class="text-danger"></span>
      </div>

      <div class="form-group mt-2">
        <label for="LastName">Last Name</label>
        <input type="text" class="form-control" id="LastName" name="LastName" asp-for="LastName">
        <span asp-validation-for="LastName" class="text-danger"></span>
      </div>

      <div class="form-group mt-2">
        <label class="form-group">Select Gender</label>
        <select asp-for="Gender" name="Gender" class="form-select" aria-label="Default select example">
          <option value="">Select Gender</option>
          @foreach (var item in ViewBag.Gen)
          {
            <option value="@item.Text">@item.Text</option>
          }
        </select>
        <span asp-validation-for="Gender" class="text-danger"></span>
      </div>

      <div class="form-group mt-2">
        <label for="DoB">Date of Birth</label>
        <input type="date" class="form-control" id="dob" name="DoB" asp-for="DoB">
        <span asp-validation-for="DoB" class="text-danger"></span>
      </div>

      <div class="form-group">
        <label for="Email">Email</label>
        <input type="email" class="form-control" id="Email" name="Email" asp-for="Email">
        <span asp-validation-for="Email" class="text-danger"></span>
      </div>
      <div class="form-group mt-2">
        <label for="Phone">Phone</label>
        <input type="tel" class="form-control" id="phone" name="Phone" asp-for="Phone">
        <span asp-validation-for="Phone" class="text-danger"></span>
      </div>
      <div class="form-group mt-2">
        <label class="form-group">Select Class</label>
        <select asp-for="Classid" name="Classid" class="form-select" aria-label="Default select example">
          <option value="">Select Class</option>
          @foreach (var item in ViewBag.Classes)
          {
            <option value="@item.Text">@item.Text</option>
          }
        </select>
        <span asp-validation-for="Classid" class="text-danger"></span>
      </div>
      <div class="form-group mt-2">
        <label class=" ms-1">Select Subject</label>
        <div class="border rounded">
          @foreach (var subject in ViewBag.Subjects)
          {
            <div class="form-check">
              <input class="form-check-input" type="checkbox" name="StudentSubject" value="@subject.Value" id="subject_@subject.Value"
              @(selectedSubjects.Contains(int.Parse(subject.Value)) ? "checked" : "") />
              <label class="form-check-label" for="StudentSubject">
                @subject.Text
              </label>
            </div>
          }
        </div>
        <span asp-validation-for="StudentSubject" class="text-danger"></span>
      </div>
      <div class="form-group mt-2">
        <label for="City">City</label>
        <input type="text" class="form-control" id="City" name="City" asp-for="City">
      </div>
      <button type="submit" class="btn btn-primary mt-5">Submit</button>
    </form>
  </div>
}

